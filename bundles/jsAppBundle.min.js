!function(){var e=angular.module("env",[]);e.constant("URL_BASE","//fishedex.azurewebsites.net/api/"),e.constant("WIKI_BASE","https://en.wikipedia.org/w/api.php"),e.constant("DEBUG_INFO_ENABLED",!1),e.constant("WHITELIST",["self","//fishedex.azurewebsites.net/api/**","https://en.wikipedia.org/w/api.php**"])}(),function(){"use strict";angular.module("account",["account.controllers","account.services","shared"]).run(["accountServices",function(e){e.refreshToken().then(e.authenticate)}])}(),function(){"use strict";angular.module("app.animate",["ngAnimate"]).animation(".view-transition",[function(){function e(e,t){return l&&a(),l=e,d.push(t),e.addClass("view-enter"),c}function t(e,t){return u=e,d.push(t),e.addClass("view-leave"),r(),c}function r(){p||u&&l?(p&&clearTimeout(p),n()):p=setTimeout(function(){r()},500)}function n(){if(u&&l){for(var e=u[0].getElementsByClassName("anim"),t=l[0].getElementsByClassName("anim"),r=[],n=0;n<e.length;n++)for(var i=0;i<t.length;i++)e[n].getAttribute("anim-ref")===t[i].getAttribute("anim-ref")&&r.push({from:e[n],to:t[i]});r.forEach(function(e){o(angular.element(e.from),angular.element(e.to))})}else a()}function i(e,t){var r=e[0].getBoundingClientRect(),n=t[0].getBoundingClientRect();return{top:r.top-n.top,left:r.left-n.left,width:r.width,height:r.height}}function o(e,t){var r=i(e,u),n=e.clone();e.addClass("anim-leave"),t.addClass("anim-enter"),n.css({top:r.top+"px",left:r.left+"px",width:r.width+"px",height:r.height+"px",margin:"0"}).addClass("anim-animating"),u.parent().append(n),u.addClass("view-animating");var o={complete:!1,onComplete:function(){o.complete=!0,s()},remove:function(){t.removeClass("anim-enter"),n.unbind("transitionend",o.onComplete),n.remove()}};f.push(o),setTimeout(function(){var e=i(t,l),s="translate3d("+(e.left-r.left)+"px, "+(e.top-r.top)+"px, 0)";n.css({"-webkit-transform":s,transform:s,width:e.width+"px",height:e.height+"px"}),n.attr("class",t.attr("class")+" anim-animating anim-animating-active"),n.bind("transitionend",o.onComplete)},100)}function s(){var e=!0;f.forEach(function(t){e=e&&t.complete}),e&&a()}function a(){f&&f.forEach(function(e){e.remove()}),f=[],d.slice(0).forEach(function(e){e()}),d=[],u=null,l=null,p=null}function c(e){e&&a()}var l=null,u=null,d=[],p=null,f=[];return{leave:function(e,r){return t(e,r)},enter:function(t,r){return e(t,r)}}}])}(),function(){"use strict";angular.module("app",["env","app.routing","app.component"]).config(["$compileProvider","DEBUG_INFO_ENABLED",function(e,t){e.commentDirectivesEnabled(!1),e.cssClassDirectivesEnabled(!1),e.debugInfoEnabled(t)}]),angular.module("app.routing",["ui.router","account","fish","home","lists","species"]).config(["$stateProvider","$locationProvider","$urlMatcherFactoryProvider","$sceDelegateProvider","WHITELIST",function(e,t,r,n,i){n.resourceUrlWhitelist(i),t.html5Mode(!0),r.caseInsensitive(!0),r.strictMode(!1),e.state("app",{abstract:!0,views:{pageheader:{templateUrl:"/App/Shared/Header/navbar.html",controller:"headerController",controllerAs:"vm"},pagefooter:{templateUrl:"/App/Shared/Footer/footer.html",controller:"footerController",controllerAs:"vm"}}}).state("app.home",{abstract:!0}).state("app.home.Fishedex",{url:"/",views:{"@":{templateUrl:"/App/Lists/FishEDex.html",controller:"fishedexController",controllerAs:"vm"}}}).state("app.home.About",{url:"/About",views:{"@":{templateUrl:"/App/Home/About.html",controller:"aboutController",controllerAs:"vm"}}}).state("app.home.Contact",{url:"/Contact",views:{"@":{templateUrl:"/App/Home/Contact.html",controller:"contactController",controllerAs:"vm"}}}).state("app.home.Privacy",{url:"/Privacy",views:{"@":{templateUrl:"/App/Home/Privacy.html",controller:"privacyController",controllerAs:"vm"}}}).state("app.ListIndex",{url:"/Lists?{after}&{take}",reloadOnSearch:!1,views:{"@":{templateUrl:"/App/Lists/ListIndex.html",controller:"listsIndexController",controllerAs:"vm"}}}).state("app.ListCreate",{url:"/Lists/Create",views:{"@":{templateUrl:"/App/Lists/ListCreate.html",controller:"listsCreateController",controllerAs:"vm"}}}).state("app.ListDetails",{url:"/Lists/{categoryId}",views:{"@":{templateUrl:"/App/Lists/ListDetails.html",controller:"listsDetailsController",controllerAs:"vm"}}}).state("app.ListEdit",{url:"/Lists/{categoryId}/Edit",views:{"@":{templateUrl:"/App/Lists/ListEdit.html",controller:"listsEditController",controllerAs:"vm"}}}).state("app.ListDelete",{url:"/Lists/{categoryId}/Delete",views:{"@":{templateUrl:"/App/Lists/ListDelete.html",controller:"listsDeleteController",controllerAs:"vm"}}}).state("app.ListFishedex",{url:"/Lists/{categoryId}/FishEDex",views:{"@":{templateUrl:"/App/Lists/FishEDex.html",controller:"fishedexController",controllerAs:"vm"}}}).state("app.ListLeaderboard",{url:"/Lists/{categoryId}/Leaderboard?{after}&{take}",reloadOnSearch:!1,views:{"@":{templateUrl:"/App/Lists/Leaderboard.html",controller:"listsLeaderboardController",controllerAs:"vm"}}}).state("app.SpeciesCreate",{url:"/Lists/{categoryId}/SpeciesCreate",views:{"@":{templateUrl:"/App/Species/SpeciesCreate.html",controller:"speciesCreateController",controllerAs:"vm"}}}).state("app.SpeciesDetails",{url:"/Species/{speciesId}?{after}&{take}",reloadOnSearch:!1,views:{"@":{templateUrl:"/App/Species/SpeciesDetails.html",controller:"speciesDetailsController",controllerAs:"vm"}}}).state("app.SpeciesEdit",{url:"/Species/{speciesId}/Edit",views:{"@":{templateUrl:"/App/Species/SpeciesEdit.html",controller:"speciesEditController",controllerAs:"vm"}}}).state("app.SpeciesDelete",{url:"/Species/{speciesId}/Delete",views:{"@":{templateUrl:"/App/Species/SpeciesDelete.html",controller:"speciesDeleteController",controllerAs:"vm"}}}).state("app.FishSearch",{url:"/Fish/Search?{Title}&{User}&{List}&{after}&{take}",reloadOnSearch:!1,views:{"@":{templateUrl:"/App/Fish/FishIndex.html",controller:"fishSearchController",controllerAs:"vm"}}}).state("app.FishCreate",{url:"/Fish/Create",views:{"@":{templateUrl:"/App/Fish/FishCreate.html",controller:"fishCreateController",controllerAs:"vm"}}}).state("app.FishUpload",{url:"/Fish/Upload",views:{"@":{templateUrl:"/App/Fish/FishCreate.html",controller:"fishUploadController",controllerAs:"vm"}}}).state("app.FishIndex",{url:"/Fish?{after}&{take}",reloadOnSearch:!1,views:{"@":{templateUrl:"/App/Fish/FishIndex.html",controller:"fishIndexController",controllerAs:"vm"}}}).state("app.FishDetails",{url:"/Fish/{fishId}",views:{"@":{templateUrl:"/App/Fish/FishDetails.html",controller:"fishDetailsController",controllerAs:"vm"}}}).state("app.FishEdit",{url:"/Fish/{fishId}/Edit",views:{"@":{templateUrl:"/App/Fish/FishEdit.html",controller:"fishEditController",controllerAs:"vm"}}}).state("app.FishDelete",{url:"/Fish/{fishId}/Delete",views:{"@":{templateUrl:"/App/Fish/FishDelete.html",controller:"fishDeleteController",controllerAs:"vm"}}}).state("app.AccountManage",{url:"/Account",views:{"@":{templateUrl:"/App/Account/ManageIndex.html",controller:"manageIndexController",controllerAs:"vm"}}}).state("app.AccountRegister",{url:"/Account/Register",views:{"@":{templateUrl:"/App/Account/Register.html",controller:"registerController",controllerAs:"vm"}}}).state("app.AccountLogin",{url:"/Account/Login?{ReturnUrl}",views:{"@":{templateUrl:"/App/Account/Login.html",controller:"loginController",controllerAs:"vm"}}}).state("app.AccountLogout",{url:"/Account/LogOut",views:{"@":{templateUrl:"/App/Account/Logout.html",controller:"logoutController",controllerAs:"vm"}}}).state("app.ForgotPassword",{url:"/Account/ForgotPassword",views:{"@":{templateUrl:"/App/Account/ForgotPassword.html",controller:"forgotPasswordController",controllerAs:"vm"}}}).state("app.ResetPassword",{url:"/Account/ResetPassword?{Email}&{Code}",views:{"@":{templateUrl:"/App/Account/ResetPassword.html",controller:"resetPasswordController",controllerAs:"vm"}}}).state("app.ChangePassword",{url:"/Account/ChangePassword",views:{"@":{templateUrl:"/App/Account/ChangePassword.html",controller:"changePasswordController",controllerAs:"vm"}}}).state("app.ConfirmEmail",{url:"/Account/ConfirmEmail?{Email}&{Code}",views:{"@":{templateUrl:"/App/Account/ConfirmEmail.html",controller:"confirmEmailController",controllerAs:"vm"}}}).state("app.ChangeEmail",{url:"/Account/ChangeEmail",views:{"@":{templateUrl:"/App/Account/ChangeEmail.html",controller:"changeEmailController",controllerAs:"vm"}}}).state("app.NotFound",{url:"/*path",views:{"@":{templateUrl:"/App/Home/404.html",controller:"notFoundController",controllerAs:"vm"}}})}])}(),function(){"use strict";angular.module("fish",["fish.controllers","shared","app.animate"])}(),function(){"use strict";angular.module("home",["home.controllers"])}(),function(){"use strict";angular.module("lists",["lists.controllers","shared","app.animate"])}(),function(){"use strict";angular.module("shared",["env"]).config(["$httpProvider",function(e){e.defaults.withCredentials=!0,e.interceptors.push(["verificationProvider",function(e){return{request:function(t){if(t&&"POST"==t.method&&t.withCredentials&&t.data.append){var r=e.csrf;t.data.append(r.key,r.token)}return t}}}])}])}(),function(){"use strict";angular.module("species",["species.controllers","shared","app.animate"])}(),function(){"use strict";angular.module("shared").provider("verificationProvider",function(){var e={token:""};Object.defineProperty(e,"key",{value:"__RequestVerificationToken",writable:!1,enumerable:!0,configurable:!0}),this.$get=function(){return{setToken:function(t){e.token=t},csrf:e}}})}(),function(){"use strict";var e=angular.module("account.services",["shared"]);e.provider("authProvider",function(){var e={isAuth:!1,userName:"",email:"",confirmed:!1};this.$get=function(){return{resetAuth:function(){e.isAuth=!1,e.userName="",e.email="",e.confirmed=!1},setAuth:function(t,r){e.isAuth=t,e.userName=r},setEmail:function(t,r){e.email=t,e.confirmed=r},authentication:e}}}),e.factory("accountServices",["$http","$q","apiUrlService","verificationProvider","authProvider",function(e,t,r,n,i){function o(e){e&&e.data&&(e.data.token&&n.setToken(e.data.token),e.data.isAuth&&e.data.userName&&i.setAuth(e.data.isAuth,e.data.userName),e.data.email&&e.data.confirmed&&i.setEmail(e.data.email,e.data.confirmed))}return{refreshToken:function(){var n=r.AntiForgeryToken();return e.post(n,{},{dataType:"json",cache:!1}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},authenticate:function(){var n=new FormData,i=r.Authenticate();return e.post(i,n,{headers:{"Content-Type":void 0},dataType:"json",cache:!1,withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},login:function(n,i,s){var a=new FormData;a.append("Username",n),a.append("Password",i),a.append("RememberMe",s);var c=r.Login();return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},logout:function(){var n=new FormData,s=r.LogOut();return e.post(s,n,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return i.resetAuth(),o(e),e.data},function(e){return t.reject(e)})},register:function(n,i,s,a){var c=new FormData;c.append("Username",n),c.append("Email",i),c.append("Password",s),c.append("ConfirmPassword",a);var l=r.Register();return e.post(l,c,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},forgotPassword:function(n){var i=new FormData;i.append("Email",n);var o=r.ForgotPassword();return e.post(o,i,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},resetPassword:function(n,i,s,a){var c=new FormData;c.append("Email",n),c.append("Password",i),c.append("ConfirmPassword",s),c.append("Code",a);var l=r.ResetPassword();return e.post(l,c,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},setPassword:function(n,i){var s=new FormData;s.append("NewPassword",n),s.append("ConfirmPassword",i);var a=r.SetPassword();return e.post(a,s,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},changePassword:function(n,i,s){var a=new FormData;a.append("OldPassword",n),a.append("NewPassword",i),a.append("ConfirmPassword",s);var c=r.ChangePassword();return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return o(e),e.data},function(e){return t.reject(e)})},changeEmail:function(n,i,o){var s=new FormData;s.append("Password",o),s.append("OldEmail",n),s.append("NewEmail",i);var a=r.ChangeEmail();return e.post(a,s,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},confirmEmail:function(n,i){var o=new FormData;o.append("Email",n),o.append("Code",i);var s=r.ConfirmEmail();return e.post(s,o,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},generateEmailConfirmationToken:function(){var n=new FormData,i=r.GenerateEmailConfirmationToken();return e.post(i,n,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})}}}])}(),function(){"use strict";angular.module("fish.services",["shared"]).factory("FishServices",["$http","$q","apiUrlService",function(e,t,r){return{FishIndex:function(n,i){var o=r.FishIndex();return e.post(o,{},{dataType:"json",cache:!1,params:{after:n,take:i}}).then(function(e){return e.data},function(e){return t.reject(e)})},FishCreate:function(n,i,o){var s=new FormData;s.append("Title",n),s.append("Description",i),s.append("imageFile",o);var a=r.FishCreate();return e.post(a,s,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},FishDetails:function(n){var i=r.FishDetails(n);return e.post(i,{},{dataType:"json",cache:!1}).then(function(e){return e.data},function(e){return t.reject(e)})},FishEdit:function(n,i,o,s){var a=new FormData;a.append("Id",n),a.append("Title",i),a.append("Description",o),a.append("imageFile",s);var c=r.FishEdit(n);return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},FishDelete:function(n){var i=new FormData;i.append("fishId",n);var o=r.FishDelete(n);return e.post(o,i,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},FishUpload:function(n){for(var i=new FormData,o=0;o<n.length;o++)i.append("imageFiles",n[o]);var s=r.FishUpload();return e.post(s,i,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},FishSearch:function(n,i,o,s,a){var c=new FormData;c.append("after",n),c.append("take",i),c.append("title",s),c.append("listName",o),c.append("userName",a);var l=r.FishSearch();return e.post(l,c,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})}}}])}(),function(){"use strict";angular.module("lists.services",["shared"]).factory("ListsServices",["$http","$q","apiUrlService",function(e,t,r){return{FishEDex:function(n,i){var o=r.FishEDex();return e.post(o,{},{dataType:"json",cache:!1,params:{id:n,userName:i},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},Leaderboard:function(n,i,o){var s=r.Leaderboard(n);return e.post(s,{},{dataType:"json",cache:!1,params:{after:i,take:o},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},ListsIndex:function(n,i){var o=r.ListsIndex();return e.post(o,{},{dataType:"json",cache:!1,params:{after:n,take:i}}).then(function(e){return e.data},function(e){return t.reject(e)})},ListCreate:function(n,i,o){var s=new FormData;s.append("Title",n),s.append("Description",i),s.append("imageFile",o);var a=r.ListCreate();return e.post(a,s,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},ListDetails:function(n){var i=r.ListDetails(n);return e.post(i,{},{dataType:"json",cache:!1}).then(function(e){return e.data},function(e){return t.reject(e)})},ListEdit:function(n,i,o,s){var a=new FormData;a.append("Id",n),a.append("Title",i),a.append("Description",o),a.append("imageFile",s);var c=r.ListEdit(n);return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},ListDelete:function(n){var i=new FormData;i.append("categoryId",n);var o=r.ListDelete(n);return e.post(o,i,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})}}}])}(),function(){"use strict";var e=angular.module("shared");e.factory("apiUrlService",["URL_BASE","WIKI_BASE",function(e,t){return{AntiForgeryToken:function(){return e+"AntiForgeryToken"},FishEDex:function(){return e+"Lists/FishEDexJSON"},Leaderboard:function(t){return e+"Lists/"+t+"/LeaderboardJSON"},ListsIndex:function(){return e+"Lists/IndexJSON"},ListCreate:function(){return e+"Lists/Create"},ListDetails:function(t){return e+"Lists/"+t+"/DetailsJSON"},ListEdit:function(t){return e+"Lists/"+t+"/Edit"},ListDelete:function(t){return e+"Lists/"+t+"/Delete"},FishIndex:function(){return e+"Fish/IndexJSON"},FishCreate:function(){return e+"Fish/Create"},FishDetails:function(t){return e+"Fish/"+t+"/DetailsJSON"},FishEdit:function(t,r,n,i){return e+"Fish/"+t+"/Edit"},FishDelete:function(t){return e+"Fish/"+t+"/Delete"},FishUpload:function(t){return e+"Fish/Upload"},FishSearch:function(){return e+"Fish/SearchJSON"},SpeciesCreate:function(t){return e+"Lists/"+t+"/SpeciesCreate"},SpeciesDetails:function(t){return e+"Species/"+t+"/DetailsJSON"},SpeciesEdit:function(t,r,n,i){return e+"Species/"+t+"/Edit"},SpeciesDelete:function(t){return e+"Species/"+t+"/Delete"},Authenticate:function(){return e+"Account/Authenticate"},Login:function(){return e+"Account/Login"},Register:function(){return e+"Account/Register"},LogOut:function(){return e+"Account/LogOut"},ForgotPassword:function(){return e+"Account/ForgotPassword"},ResetPassword:function(){return e+"Account/ResetPassword"},ChangePassword:function(){return e+"Account/ChangePassword"},ChangeEmail:function(){return e+"Account/ChangeEmail"},GetEmail:function(){return e+"Account/GetEmail"},ConfirmEmail:function(){return e+"Account/ConfirmEmail"},GenerateEmailConfirmationToken:function(){return e+"Account/GenerateEmailConfirmationToken"},Wiki:function(e){return t+"?format=json&action=query&redirects&titles="+encodeURI(e)+"&prop=pageimages|extracts|info&pithumbsize=400&exintro&explaintext&exsentences=2&inprop=url"}}}]),e.factory("titleService",["$window",function(e){return{setTitle:function(t){e.history.replaceState(null,""),e.document.title=t}}}])}(),function(){"use strict";angular.module("species.services",["shared"]).factory("SpeciesServices",["$http","$q","apiUrlService",function(e,t,r){return{SpeciesCreate:function(n,i,o,s){var a=new FormData;a.append("CategoryId",n),a.append("Title",i),a.append("Description",o),a.append("imageFile",s);var c=r.SpeciesCreate(n);return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},SpeciesDetails:function(n,i,o){var s=r.SpeciesDetails(n);return e.post(s,{},{dataType:"json",cache:!1,params:{after:i,take:o}}).then(function(e){return e.data},function(e){return t.reject(e)})},SpeciesWiki:function(n){var i=r.Wiki(n);return e.jsonp(i).then(function(e){var t={title:"No description available"};if(e.data.query&&e.data.query.pages){var r=Object.keys(e.data.query.pages)[0];t=e.data.query.pages[r]}return t},function(e){return t.reject(e)})},SpeciesEdit:function(n,i,o,s){var a=new FormData;a.append("Id",n),a.append("Title",i),a.append("Description",o),a.append("imageFile",s);var c=r.SpeciesEdit(n);return e.post(c,a,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})},SpeciesDelete:function(n){var i=new FormData;i.append("Id",n);var o=r.SpeciesDelete(n);return e.post(o,i,{headers:{"Content-Type":void 0},withCredentials:!0}).then(function(e){return e.data},function(e){return t.reject(e)})}}}])}(),function(){"use strict";var e=angular.module("account.controllers",["ui.router","account.services","shared"]);e.controller("loginController",["$state","$stateParams","$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this,c=t.ReturnUrl;return s.setTitle("Login"),a.Model={Title:"Login",Description:"",userName:"",password:"",rememberMe:!1},a.login=function(){n.Start("Loading"),o.open("Logging in"),i.login(a.Model.userName,a.Model.password,a.Model.rememberMe).then(function(e){n.Success("Success"),o.close(),a.redirect()},function(e){n.Error(e),o.close()})},a.redirect=function(){c?r.url(c):r.url("/")},a.Loading=n.State,a}]),e.controller("logoutController",["$state","$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i,o){var s=this;return o.setTitle("Logout"),s.Model={Title:"Logout",Description:""},s.logout=function(){r.Start("Loading"),i.open("Logging out"),n.logout().then(function(e){r.Success("Success"),i.close(),s.redirect()},function(e){r.Error(e),i.close()})},s.redirect=function(){t.url("/")},s.Loading=r.State,s}]),e.controller("registerController",["$state","$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i,o){var s=this;return o.setTitle("Register"),s.Model={Title:"Register",Description:"Create a new account",userName:"",email:"",password:"",confirmPassword:""},s.register=function(){r.Start("Loading"),s.Model.password==s.Model.confirmPassword?(i.open("Registering"),n.register(s.Model.userName,s.Model.email,s.Model.password,s.Model.confirmPassword).then(function(e){r.Success("Success"),i.close(),s.redirect()},function(e){r.Error(e),i.close()})):r.Error({status:"",statusText:"Passwords don't match"})},s.redirect=function(){t.url("/")},s.Loading=r.State,s}]),e.controller("forgotPasswordController",["$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i){var o=this;return i.setTitle("Forgot Password"),o.Model={Title:"Forgot Password",Description:"Send a reset password link to your email.",email:"",Sent:!1},o.forgotPassword=function(){t.Start("Loading"),n.open("Sending"),r.forgotPassword(o.Model.email).then(function(e){t.Success("Success"),n.close(),o.Model.Sent=!0},function(e){t.Error(e),n.close()})},o.Loading=t.State,o}]),e.controller("resetPasswordController",["$state","$stateParams","$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this,c=t.Email,l=t.Code;return s.setTitle("Reset Password"),a.Model={Title:"Reset Password",Description:"Enter your new password",email:c,password:"",confirmPassword:"",Changed:!1},a.resetPassword=function(){n.Start("Loading"),a.Model.password==a.Model.confirmPassword?(o.open("Reseting"),i.resetPassword(a.Model.email,a.Model.password,a.Model.confirmPassword,l).then(function(e){n.Success("Success"),o.close(),a.Model.Changed=!0},function(e){n.Error(e),o.close()})):n.Error({status:"",statusText:"Passwords don't match"})},a.Loading=n.State,a}]),e.controller("manageIndexController",["$state","$location","LoadingService","authProvider","accountServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this;return s.setTitle("Manage"),a.Model={Title:"Manage",Description:"",EmailConfirmed:!1},a.redirect=function(){t.url("/")},a.Auth=n.authentication,a.logout=function(){r.Start("Loading"),i.logout().then(function(e){r.Success("Success"),a.redirect()},function(e){r.Error(e)})},a.generateEmailConfirmationToken=function(){r.Start("Loading"),o.open("Sending"),i.generateEmailConfirmationToken().then(function(e){r.Success("Success"),a.Model.EmailConfirmed=!0,o.close()},function(e){r.Error(e),o.close()})},a.Loading=r.State,a}]),e.controller("changeEmailController",["$location","LoadingService","authProvider","accountServices","modalService","titleService",function(e,t,r,n,i,o){var s=this;return o.setTitle("Change Email"),s.Model={Title:"Change Email",Description:"A new confirmation link will be sent",NewEmail:"",Password:"",Changed:!1},s.changeEmail=function(){t.Start("Loading"),n.changeEmail(s.Auth.email,s.Model.NewEmail,s.Model.Password).then(function(e){t.Success("Success"),s.Model.Changed=!0},function(e){t.Error(e)})},s.Loading=t.State,s.Auth=r.authentication,s}]),e.controller("changePasswordController",["$state","$location","LoadingService","authProvider","accountServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this;return s.setTitle("Change Password"),a.Model={Title:"Change Password",Description:"Enter your new password",OldPassword:"",NewPassword:"",ConfirmPassword:"",Changed:!1},a.Auth=n.authentication,a.changePassword=function(){r.Start("Loading"),a.Model.NewPassword==a.Model.ConfirmPassword?(o.open("Changing"),i.changePassword(a.Model.OldPassword,a.Model.NewPassword,a.Model.ConfirmPassword).then(function(e){r.Success("Success"),o.close(),a.Model.Changed=!0},function(e){r.Error(e),o.close()})):r.Error({status:"",statusText:"Passwords don't match"})},a.Loading=r.State,a}]),e.controller("confirmEmailController",["$stateParams","$location","LoadingService","accountServices","modalService","titleService",function(e,t,r,n,i,o){var s=this,a=e.Email,c=e.Code;return o.setTitle("Confirm Email"),s.Model={Title:"Confirm Email",Description:"Click below to confirm your email",Email:a,Code:c,Confirmed:!1},s.confirmEmail=function(){r.Start("Loading"),i.open("Confirming"),n.confirmEmail(a,c).then(function(e){r.Success("Success"),i.close(),s.Model.Confirmed=!0},function(e){r.Error(e),i.close()})},s.Loading=r.State,s}])}(),function(){"use strict";var e=angular.module("fish.controllers",["ui.router","fish.services","shared"]);e.controller("fishIndexController",["$location","$stateParams","LoadingService","FishServices","titleService",function(e,t,r,n,i){var o=this,s=t.after||0,a=t.take||25;return i.setTitle("Fish Index"),o.Model={Title:"Fish Index",Description:"All the fish",FishList:[],CanEdit:!1},o.LoadMore=function(){var e=s;o.Model&&o.Model.FishList&&o.Model.FishList.length&&(e=o.Model.FishList[o.Model.FishList.length-1].Id),r.Start("Loading"),n.FishIndex(e,a).then(function(e){r.Success("Success"),e&&e.FishList&&(o.Model.FishList=o.Model.FishList.concat(e.FishList))},function(e){r.Error(e)})},o.init=function(){r.Start("Loading"),n.FishIndex(s,a).then(function(e){r.Success("Success"),o.Model.FishList=e.FishList,o.Model.CanEdit=e.CanEdit},function(e){r.Error(e)})},o.Loading=r.State,o.init(),o}]),e.controller("fishCreateController",["$scope","$location","fileService","LoadingService","FishServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this;return s.setTitle("Fish Create"),a.Model={Id:"",Title:"",Description:"",TileURL:""},a.handlefiles=function(){n.Start("Loading"),r.readAsDataUrl(e).then(function(e){n.Success("Success"),a.Model.TileURL=e},function(e){n.Error(e)})},a.submit=function(){var e=r.getFirstFile();n.Start("Loading"),o.open("Creating"),i.FishCreate(a.Model.Title,a.Model.Description,e).then(function(e){n.Success("Success"),o.close(),a.redirect(e.Id)},function(e){n.Error(e),o.close()})},a.redirect=function(e){t.url("/Fish/"+e)},a.Loading=n.State,a}]),e.controller("fishUploadController",["$scope","$location","fileService","LoadingService","FishServices","modalService","titleService",function(e,t,r,n,i,o,s){var a=this;return s.setTitle("Fish Upload"),a.Model={Id:"",Title:"",Description:"",TileURL:""},a.handlefiles=function(){n.Start("Loading"),r.readAsDataUrl(e).then(function(e){n.Success("Success"),a.Model.TileURL=e},function(e){n.Error(e)})},a.submit=function(){var e=r.getFirstFile();n.Start("Loading"),o.open("Creating"),i.FishCreate(a.Model.Title,a.Model.Description,e).then(function(e){n.Success("Success"),o.close(),a.redirect(e.Id)},function(e){n.Error(e),o.close()})},a.redirect=function(e){t.url("/Fish/"+e)},a.Loading=n.State,a.handlefiles(),a}]),e.controller("fishDetailsController",["$stateParams","LoadingService","FishServices","titleService",function(e,t,r,n){var i=this,o=e.fishId;return n.setTitle("Fish Details - "+o),i.Model={Id:o,Title:"",Description:"",TileURL:"",UserName:"",CreatedDate:""},i.init=function(){t.Start("Loading"),r.FishDetails(o).then(function(e){t.Success("Success"),i.Model=e,n.setTitle("Fish Details - "+e.Title)},function(e){t.Error(e)})},i.Loading=t.State,i.init(),i}]),e.controller("fishEditController",["$scope","$location","$stateParams","fileService","LoadingService","FishServices","modalService","titleService",function(e,t,r,n,i,o,s,a){var c=this,l=r.fishId;return a.setTitle("Fish Edit - "+l),c.Model={Id:l,Title:"",Description:"",TileURL:""},c.init=function(){i.Start("Loading"),o.FishDetails(l).then(function(e){i.Success("Success"),c.Model=e,a.setTitle("Fish Edit - "+e.Title)},function(e){i.Error(e)})},c.handleFiles=function(){i.Start("Loading"),n.readAsDataUrl(e).then(function(e){i.Success("Success"),c.Model.TileURL=e},function(e){i.Error(e)})},c.save=function(){var e=n.getFirstFile();i.Start("Loading"),s.open("Editing"),o.FishEdit(c.Model.Id,c.Model.Title,c.Model.Description,e).then(function(e){i.Success("Success"),s.close(),c.redirect(e.Id)},function(e){i.Error(e),s.close()})},c.redirect=function(e){t.url("/Fish/"+e)},c.Loading=i.State,c.init(),c}]),e.controller("fishDeleteController",["$location","$stateParams","LoadingService","FishServices","modalService","titleService",function(e,t,r,n,i,o){var s=this,a=t.fishId;return o.setTitle("Fish Delete - "+a),s.Model={Id:a,Title:"",Description:"",TileURL:""},s.delete=function(){r.Start("Loading"),i.open("Deleting"),n.FishDelete(a).then(function(e){r.Success("Success"),i.close(),s.redirect()},function(e){r.Error(e),i.close()})},s.init=function(){r.Start("Loading"),n.FishDetails(a).then(function(e){r.Success("Success"),s.Model=e,o.setTitle("Fish Delete - "+e.Title)},function(e){r.Error(e)})},s.redirect=function(){e.url("/Fish/")},s.Loading=r.State,s.init(),s}]),e.controller("fishSearchController",["$location","$stateParams","LoadingService","FishServices","modalService","titleService",function(e,t,r,n,i,o){var s=this,a=t.Title||"",c=t.List||"",l=t.User||"",u=a||l||c||"",d=t.take||25,p=t.after||0;return o.setTitle("Fish Search"),s.Model={Search:u,Title:"Fish Search",Description:"Search for "+u,FishList:[]},s.LoadMore=function(){var e=p;s.Model&&s.Model.FishList&&s.Model.FishList.length&&(e=s.Model.FishList[s.Model.FishList.length-1].Id),r.Start("Loading"),n.FishSearch(e,d,c,a,l).then(function(e){r.Success("Success"),e&&e.FishList&&(s.Model.FishList=s.Model.FishList.concat(e.FishList))},function(e){r.Error(e)})},s.init=function(){r.Start("Loading"),n.FishSearch(p,d,c,a,l).then(function(e){r.Success("Success"),s.Model.FishList=e.FishList,s.Model.CanEdit=e.CanEdit},function(e){r.Error(e)})},s.Loading=r.State,s.init(),s}])}(),function(){"use strict";var e=angular.module("home.controllers",["shared"]);e.controller("aboutController",["titleService",function(e){var t=this;return e.setTitle("About"),t}]),e.controller("contactController",["titleService",function(e){var t=this;return e.setTitle("Contact"),t}]),e.controller("privacyController",["titleService",function(e){var t=this;return e.setTitle("Privacy"),t}]),e.controller("notFoundController",["titleService",function(e){var t=this;return e.setTitle("Page Not Found"),t}])}(),function(){"use strict";var e=angular.module("lists.controllers",["ui.router","lists.services","shared"]);e.controller("fishedexController",["$stateParams","menuService","ListsServices","LoadingService","titleService",function(e,t,r,n,i){var o=this,s=e.categoryId;return i.setTitle("FishEDex"+(s?" - "+s:"")),o.Model={Id:s,UserName:"",ComboList:[],Locations:[],Title:"",TileURL:""},o.sortProperty=t.sortProperty,o.sortIsReverse=t.sortIsReverse,o.filterFunction=t.filterFunction,o.updateFilters=function(e){n.Start("Loading"),r.FishEDex(s,e.name).then(function(e){n.Success("Success"),o.Model=e},function(e){n.Error(e)})},o.init=function(){n.Start("Loading"),r.FishEDex(s,"").then(function(e){n.Success("Success"),o.Model=e,i.setTitle("FishEDex - "+e.Title)},function(e){n.Error(e)})},o.Loading=n.State,o.init(),o}]),e.controller("listsLeaderboardController",["$location","$stateParams","ListsServices","LoadingService","titleService",function(e,t,r,n,i){var o=this,s=t.after||"",a=t.take||25,c=t.categoryId;return i.setTitle("Leaderboard - "+c),o.Model={Id:c,Title:"",TileURL:"",LeaderboardList:[]},o.init=function(){n.Start("Loading"),r.Leaderboard(c,s,a).then(function(e){n.Success("Success"),o.Model=e,i.setTitle("Leaderboard - "+e.Title)},function(e){n.Error(e)})},o.LoadMore=function(){var e=s;o.Model&&o.Model.LeaderboardList&&o.Model.LeaderboardList.length&&(e=o.Model.LeaderboardList[o.Model.LeaderboardList.length-1].UserName),n.Start("Loading"),r.Leaderboard(c,e,a).then(function(e){n.Success("Success"),e&&e.LeaderboardList&&e.LeaderboardList.length&&(o.Model.LeaderboardList=o.Model.LeaderboardList.concat(e.LeaderboardList))},function(e){n.Error(e)})},o.Loading=n.State,o.init(),o}]),e.controller("listsIndexController",["$location","$stateParams","ListsServices","LoadingService","titleService",function(e,t,r,n,i){var o=this,s=t.after||0,a=t.take||25;return i.setTitle("Lists Index"),o.Model={Title:"Lists Index",Description:"All the lists",CategoryList:[]},o.LoadMore=function(){var e=0;o.Model&&o.Model.CategoryList&&o.Model.CategoryList.length&&(e=o.Model.CategoryList[o.Model.CategoryList.length-1].Id),n.Start("Loading"),r.ListsIndex(e,a).then(function(e){n.Success("Success"),e&&e.CategoryList&&e.CategoryList.length&&(o.Model.CategoryList=o.Model.CategoryList.concat(e.CategoryList))},function(e){n.Error(e)})},o.init=function(){n.Start("Loading"),r.ListsIndex(s,a).then(function(e){n.Success("Success"),o.Model=e},function(e){n.Error(e)})},o.Loading=n.State,o.init(),o}]),e.controller("listsCreateController",["$scope","$location","fileService","ListsServices","LoadingService","modalService","titleService",function(e,t,r,n,i,o,s){var a=this;return s.setTitle("List Create"),a.Model={Id:"",Title:"",Description:"",TileURL:""},a.handleFiles=function(){i.Start("Loading"),r.readAsDataUrl(e).then(function(e){i.Success("Success"),a.Model.TileURL=e},function(e){i.Error(e)})},a.redirect=function(e){t.url("/Lists/"+e)},a.save=function(){var e=r.getFirstFile();i.Start("Loading"),o.open("Creating"),n.ListCreate(a.Model.Title,a.Model.Description,e).then(function(e){i.Success("Success"),o.close(),a.redirect(e.Id)},function(e){i.Error(e),o.close()})},a.Loading=i.State,a}]),e.controller("listsDetailsController",["$stateParams","LoadingService","ListsServices","titleService",function(e,t,r,n){var i=this,o=e.categoryId;return n.setTitle("List Details - "+o),i.Model={Id:o,Title:"",Description:"",TileURL:"",SpeciesList:[]},i.LoadMore=function(){var e=0;i.Model&&i.Model.SpeciesList&&i.Model.SpeciesList.length&&(e=i.Model.SpeciesList[i.Model.SpeciesList.length-1].Id),t.Start("Loading"),r.ListsIndex(e,take).then(function(e){t.Success("Success"),e&&e.SpeciesList&&e.SpeciesList.length&&(i.Model.SpeciesList=i.Model.SpeciesList.concat(e.SpeciesList))},function(e){t.Error(e)})},i.init=function(){t.Start("Loading"),r.ListDetails(o).then(function(e){t.Success("Success"),i.Model=e,n.setTitle("List Details - "+e.Title)},function(e){t.Error(e)})},i.Loading=t.State,i.init(),i}]),e.controller("listsEditController",["$scope","$location","$stateParams","fileService","ListsServices","LoadingService","modalService","titleService",function(e,t,r,n,i,o,s,a){var c=this,l=r.categoryId;return a.setTitle("List Edit - "+l),c.Model={Id:l,Title:"",Description:"",TileURL:""},c.init=function(){o.Start("Loading"),i.ListDetails(l).then(function(e){o.Success("Success"),c.Model=e,a.setTitle("List Edit - "+e.Title)},function(e){o.Error(e)})},c.redirect=function(e){t.url("/Lists/"+e)},c.handleFiles=function(){o.Start("Loading"),n.readAsDataUrl(e).then(function(e){o.Success("Success"),c.Model.TileURL=e},function(e){o.Error(e)})},c.save=function(){o.Start("Loading"),s.open("Editing");var e=n.getFirstFile();i.ListEdit(c.Model.Id,c.Model.Title,c.Model.Description,e).then(function(e){o.Success("Success"),s.close(),c.redirect(e.Id)},function(e){o.Error(e),s.close()})},c.Loading=o.State,c.init(),c}]),e.controller("listsDeleteController",["$location","$stateParams","fileService","ListsServices","LoadingService","modalService","titleService",function(e,t,r,n,i,o,s){var a=this,c=t.categoryId;return s.setTitle("List Delete - "+c),a.Model={Id:c,Title:"",Description:"",TileURL:""},a.init=function(){i.Start("Loading"),n.ListDetails(c).then(function(e){i.Success("Success"),a.Model=e,s.setTitle("List Delete - "+e.Title)},function(e){i.Error(e)})},a.redirect=function(){e.url("/Lists/")},a.delete=function(){i.Start("Loading"),o.open("Deleting"),n.ListDelete(c).then(function(e){i.Success("Success"),o.close(),a.redirect()},function(e){i.Error(e),o.close()})},a.Loading=i.State,a.init(),a}])}(),function(){"use strict";var e=angular.module("species.controllers",["ui.router","species.services","shared"]);e.controller("speciesCreateController",["$scope","$location","$stateParams","fileService","LoadingService","SpeciesServices","modalService","titleService",function(e,t,r,n,i,o,s,a){var c=this,l=r.categoryId;return a.setTitle("Species Create - "+l),c.Model={CategoryId:l,Title:"",Description:"",TileURL:""},c.redirect=function(e){t.url("/Species/"+e)},c.handleFiles=function(){i.Start("Loading"),n.readAsDataUrl(e).then(function(e){i.Success("Success"),c.Model.TileURL=e},function(e){i.Error(e)})},c.save=function(){i.Start("Loading"),s.open("Creating");var e=n.getFirstFile();o.SpeciesCreate(l,c.Model.Title,c.Model.Description,e).then(function(e){i.Success("Success"),s.close(),c.redirect(e.Id)},function(e){i.Error(e),s.close()})},c.Loading=i.State,c}]),e.controller("speciesDetailsController",["$location","$stateParams","LoadingService","SpeciesServices","breadService","titleService",function(e,t,r,n,i,o){function s(e){r.Start("Loading"),n.SpeciesWiki(e).then(function(e){r.Success("Success"),a.wiki=e},function(e){r.Error(e),a.wiki.title="Error"})}var a=this,c=t.speciesId,l=t.after||0,u=t.take||25;return o.setTitle("Species Details - "+c),a.Model={Id:c,Title:"",Description:"",TileURL:"",CategoryId:""},a.wiki={title:"",extract:"",fullurl:""},a.init=function(){r.Start("Loading"),n.SpeciesDetails(c,l,u).then(function(e){return r.Success("Success"),a.Model=e,o.setTitle("Species Details - "+e.Title),e.Title},function(e){r.Error(e)}).then(function(e){s(e)},function(){})},a.LoadMore=function(){r.Start("Loading");var e=l;a.Model&&a.Model.FishList&&a.Model.FishList.length&&(e=a.Model.FishList[a.Model.FishList.length-1].Id),n.SpeciesDetails(c,e,u).then(function(e){r.Success("Success"),e&&e.FishList&&(a.Model.FishList=a.Model.FishList.concat(e.FishList))},function(e){r.Error(e)})},a.LoadWiki=s,a.Loading=r.State,a.init(),a}]),e.controller("speciesEditController",["$scope","$location","$stateParams","fileService","LoadingService","SpeciesServices","modalService","titleService",function(e,t,r,n,i,o,s,a){var c=this,l=r.speciesId;return a.setTitle("Species Edit - "+l),c.Model={Id:l,Title:"",Description:"",TileURL:""},c.init=function(){i.Start("Loading"),o.SpeciesDetails(l).then(function(e){i.Success("Success"),c.Model=e,a.setTitle("Species Edit - "+e.Title)},function(e){i.Error(e)})},c.redirect=function(e){t.url("/Species/"+e)},c.handleFiles=function(){i.Start("Loading"),n.readAsDataUrl(e).then(function(e){i.Success("Success"),c.Model.TileURL=e},function(e){i.Error(e)})},c.save=function(){i.Start("Loading"),s.open("Editing");var e=n.getFirstFile();o.SpeciesEdit(c.Model.Id,c.Model.Title,c.Model.Description,e).then(function(e){i.Success("Success"),s.close(),c.redirect(e.Id)},function(e){i.Error(e),s.close()})},c.Loading=i.State,c.init(),c}]),e.controller("speciesDeleteController",["$location","$stateParams","LoadingService","SpeciesServices","modalService","titleService",function(e,t,r,n,i,o){var s=this,a=t.speciesId;return o.setTitle("Species Delete - "+a),s.Model={Id:a,Title:"",Description:"",TileURL:"",CategoryId:0},s.init=function(){r.Start("Loading"),n.SpeciesDetails(a).then(function(e){r.Success("Success"),s.Model=e,o.setTitle("Species Delete - "+e.Title)},function(e){r.Error(e)})},s.redirect=function(){e.url("/Lists/"+s.Model.CategoryId)},s.delete=function(){r.Start("Loading"),i.open("Deleting"),n.SpeciesDelete(a).then(function(e){r.Success("Success"),i.close(),s.redirect()},function(e){r.Error(e),i.close()})},s.Loading=r.State,s.init(),s}])}(),function(){"use strict";var e=angular.module("shared");e.factory("fileService",["$q",function(e){var t=[],r=function(e,t,r){return function(){r.$apply(function(){t.resolve(e.result)})}},n=function(e,t,r){return function(){r.$apply(function(){t.reject(e.result)})}},i=function(e,t){var i=new FileReader;return i.onload=r(i,e,t),i.onerror=n(i,e,t),i};return{setChange:function(e,r){t=e.target.files,r&&"function"==typeof r&&r()},getFirstFile:function(){return t&&t.length?t[0]:null},getFiles:function(){return t},readAsDataUrl:function(r){var n=e.defer();return t&&t.length?i(n,r).readAsDataURL(t[0]):n.resolve(null),n.promise}}}]),e.directive("filereader",["fileService",function(e){return{restrict:"A",link:function(t,r,n){r.on("change",function(r){var n=this;if(n.attributes&&n.attributes.filereader){var i=t.$eval(n.attributes.filereader.value);e.setChange(r,i)}})}}}])}(),function(){"use strict";angular.module("app.component",[]).component("app",{templateUrl:"/App/app.html"})}(),function(){"use strict";var e=angular.module("shared");e.component("banner",{templateUrl:"/App/Shared/Banner/banner.html",transclude:!0,bindings:{item:"<",prefix:"@"},controller:"bannerController",controllerAs:"vm"}),e.controller("bannerController",["LoadingService",function(e){var t=this;return t.Loading=e.State,t}])}(),function(){"use strict";var e=angular.module("shared");e.component("bread",{templateUrl:"/App/Shared/Bread/bread.html",controller:"breadController",controllerAs:"vm"}),e.factory("breadService",[function(){var e={categoryId:1,speciesId:void 0,fishId:void 0,currentName:""};return{state:e,ClearCategory:function(){e.categoryId=1},ClearSpecies:function(){e.speciesId=void 0},ClearFish:function(){e.fishId=void 0},ClearAll:function(){e.categoryId=1,e.speciesId=void 0,e.fishId=void 0,e.currentName=""}}}]),e.controller("breadController",["$state","$transitions","$stateParams","breadService","toggleNavService",function(e,t,r,n,i){function o(){a.links=[],a.links.push({url:"Lists/"+n.state.categoryId+"/FishEDex",active:n.state.currentName.toLowerCase().includes("fishedex"),title:"FishEDex",show:!0}),a.links.push({url:"Lists/"+n.state.categoryId+"/Leaderboard",active:n.state.currentName.toLowerCase().includes("leaderboard"),title:"Leaderboard",show:!0}),a.links.push({url:e.href(e.current.name,e.params,{absolute:!0}),active:!0,title:n.state.currentName,show:!n.state.currentName.toLowerCase().includes("fishedex")&&!n.state.currentName.toLowerCase().includes("leaderboard")})}function s(){var t=e.current.name.split(".");t.length&&(n.state.currentName=t[t.length-1]),r.categoryId&&(n.state.categoryId=r.categoryId),r.speciesId&&(n.state.speciesId=r.speciesId),r.fishId&&(n.state.fishId=r.fishId),o()}var a=this;return a.state=i.state,a.crumbs=n.state,a.links=[],a.toggle=function(){i.toggle()},t.onSuccess({to:"app.**",from:"app.**"},function(e,t){s()}),s(),a}])}(),function(){"use strict";angular.module("shared").component("card",{templateUrl:"/App/Shared/Card/card.html",transclude:!0,bindings:{item:"<",text:"@"},bindToController:!0,controllerAs:"vm"})}(),function(){"use strict";var e=angular.module("shared");e.component("fileupload",{templateUrl:"/App/Shared/Fileupload/fileupload.html",controller:"fileController",controllerAs:"vm"}),e.controller("fileController",["$scope","$location","fileService","FishServices","LoadingService","modalService",function(e,t,r,n,i,o){var s=this;return s.handlefiles=function(){i.Start("Loading"),r.readAsDataUrl(e).then(function(e){i.Success("Success"),s.redirect()},function(e){i.Error(e)})},s.redirect=function(){t.url("/Fish/Upload")},s}])}(),function(){"use strict";angular.module("shared").component("flipper",{templateUrl:"/App/Shared/Flipper/flipper.html",transclude:!0,bindings:{front:"<",back:"<"},bindToController:!0,controllerAs:"vm"})}(),function(){"use strict";angular.module("shared").controller("footerController",[function(){return this}])}(),function(){"use strict";var e=angular.module("shared");e.component("genericdetails",{templateUrl:"/App/Shared/Form/Details.html",transclude:!0,bindings:{item:"<"},controller:"genericdetailsController",controllerAs:"vm"}),e.component("genericsave",{templateUrl:"/App/Shared/Form/Save.html",transclude:!0,bindings:{item:"<",submit:"&",handlefiles:"&"},controller:"genericsaveController",controllerAs:"vm"}),e.component("genericdelete",{templateUrl:"/App/Shared/Form/Delete.html",transclude:!0,bindings:{item:"<",submit:"&",handlefiles:"&"},controller:"genericdeleteController",controllerAs:"vm"}),e.controller("genericdetailsController",["LoadingService",function(e){var t=this;return t.Loading=e.State,t}]),e.controller("genericsaveController",["LoadingService",function(e){var t=this;return t.Loading=e.State,t}]),e.controller("genericdeleteController",["LoadingService",function(e){var t=this;return t.Loading=e.State,t}])}(),function(){"use strict";var e=angular.module("shared");e.component("gallery",{templateUrl:"/App/Shared/Gallery/gallery.html",transclude:!0,bindings:{list:"<",prefix:"@",more:"&"},controller:"galleryController",controllerAs:"vm"}),e.controller("galleryController",["LoadingService",function(e){var t=this;return t.Loading=e.State,t}])}(),function(){"use strict";angular.module("account.services").controller("headerController",["LoadingService","accountServices","authProvider","toggleMenuService","toggleNavService","modalService",function(e,t,r,n,i,o){var s=this;return s.navState=i.state,s.menuState=n.state,s.authentication=r.authentication,s.menuToggle=function(){n.toggle()},s.navToggle=function(){i.toggle()},s.logout=function(){e.Start("Loading"),o.open("Logging out"),t.logout().then(function(t){e.Success("Success"),o.close()},function(t){e.Error(t),o.close()})},s}]),angular.module("shared").factory("toggleNavService",["$transitions",function(e){var t={isToggled:!0};return e.onSuccess({to:"app.**",from:"app.**"},function(e,r){t.isToggled=!0}),{toggle:function(){t.isToggled=!t.isToggled},state:t}}])}(),function(){"use strict";var e=angular.module("shared");e.component("loading",{templateUrl:"/App/Shared/Loading/loading.html",controller:"loadingController",controllerAs:"vm"}),e.controller("loadingController",["$transitions","LoadingService",function(e,t){var r=this;return e.onEnter({to:"app.**",from:"app.**"},function(){t.Reset()}),r}]),e.factory("LoadingService",[function(){var e={Active:!1,Error:!1,Message:""};return{State:e,Reset:function(){e.Active=!1,e.Error=!1,e.Message=""},Start:function(t){e.Active=!0,e.Error=!1,e.Message=t},Success:function(t){e.Active=!1,e.Error=!1,e.Message=t},Error:function(t){e.Active=!1,e.Error=!0,e.Message="Error: ",t&&(-1==t.status?e.Message+="Request aborted":e.Message+=t.statusText?t.statusText:t.status)}}}])}(),function(){"use strict";var e=angular.module("shared");e.component("sidebar",{templateUrl:"/App/Shared/Menu/menu.html",bindings:{locations:"<",update:"&"},controller:"menuController",controllerAs:"vm"}),e.factory("menuService",[function(){function e(e){return i.indexOf(e)>=0}function t(e){return o.indexOf(e)>=0}function r(e){return s.indexOf(e)>=0}var n=[],i=[],o=[],s=[],a=!1;return{isReset:function(){return!(n.length||i.length||o.length||s.length||a)},resetClick:function(){n=[],i=[],o=[],s=[],a=!1},showIsActive:function(e){return n.indexOf(e)>=0},showClick:function(e){var t=n.indexOf(e);t>=0?n.splice(t,1):n=[e]},statusIsActive:e,statusClick:function(e){var t=i.indexOf(e);t>=0?i.splice(t,1):i=[e]},locationIsActive:t,locationClick:function(e){var t=o.indexOf(e);t>=0?o.splice(t,1):o=[e]},sortIsActive:r,sortClick:function(e){a=!!r(e)&&!a,s=[e]},sortProperty:function(){return s.length?s[0]:""},sortIsReverse:function(){return a},filterFunction:function(r){return!(e("Caught")&&!r.Fish||e("UnCaught")&&r.Fish||o.length&&!t(r&&r.Species?r.Species.Location:""))}}}]),e.factory("toggleMenuService",["$transitions",function(e){var t={isToggled:!0,isActive:!1};return e.onSuccess({to:"app.**",from:"app.**"},function(e,r){t.isToggled=!0,t.isActive=!1}),{toggle:function(){t.isToggled=!t.isToggled},state:t}}]),e.controller("menuController",["menuService","toggleMenuService",function(e,t){function r(e){var t="";"Everyone"==e&&(t="Anonymous"),n.update({value:{name:t}})}var n=this;return n.toggleState=t.state,n.toggleClick=t.toggle,n.isReset=e.isReset,n.resetClick=function(n){t.toggle(),e.resetClick(n),r("")},n.showIsActive=e.showIsActive,n.showClick=function(n){t.toggle(),e.showClick(n),r(n)},n.statusIsActive=e.statusIsActive,n.statusClick=function(r){t.toggle(),e.statusClick(r)},n.locationIsActive=e.locationIsActive,n.locationClick=function(r){t.toggle(),e.locationClick(r)},n.sortIsActive=e.sortIsActive,n.sortIsReverse=e.sortIsReverse,n.sortClick=function(r){t.toggle(),e.sortClick(r)},n.init=function(){t.state.isActive=!0},n.init(),n}])}(),function(){"use strict";var e=angular.module("shared");e.component("modal",{templateUrl:"/App/Shared/Modal/modal.html",controller:"modalController",controllerAs:"vm"}),e.controller("modalController",["modalService",function(e){return this.state=e.state,this}]),e.factory("modalService",[function(){var e={isOpen:!1,message:""};return{open:function(t){e.isOpen=!0,e.message=t},close:function(){e.isOpen=!1,e.message=""},state:e}}])}(),function(){"use strict";var e=angular.module("shared");e.component("search",{templateUrl:"/App/Shared/Search/search.html",controller:"searchController",controllerAs:"vm"}),e.controller("searchController",["$location","$state",function(e,t){var r=this;return r.Model={Title:""},r.submit=function(){r.redirect()},r.redirect=function(){t.go("app.FishSearch",{Title:r.Model.Title},{reload:!0})},r.collapsed=!0,r.searchToggle=function(){r.collapsed=!r.collapsed},r}])}(),function(){"use strict";angular.module("shared").filter("removeWhitespace",function(){return function(e){return e?e.replace(/[\s]/g,""):e}})}();